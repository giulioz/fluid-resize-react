{"version":3,"file":"index.es.js","sources":["../src/FixedWidth.js","../src/FixedHeight.js","../src/FixedSize.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass FixedWidth extends React.Component {\n  static defaultProps = {\n    maxSteps: 10,\n    min: 5,\n    max: 100,\n    delta: 5\n  };\n\n  steps = 0;\n  lowerBound = this.props.min;\n  upperBound = this.props.max;\n\n  state = {\n    current: (this.props.max + this.props.min) / 2\n  };\n\n  outer = React.createRef();\n  inner = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.update);\n    this.update();\n  }\n\n  componentDidUpdate() {\n    this.update();\n    // this.steps = 0;\n    // this.lowerBound = this.props.min;\n    // this.upperBound = this.props.max;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.update);\n  }\n\n  update = () => {\n    const outerRect = this.outer.current.getBoundingClientRect();\n    const innerRect = this.inner.current.getBoundingClientRect();\n\n    // console.log(this.steps, Math.abs(innerRect.width - outerRect.width));\n\n    if (\n      Math.abs(innerRect.width - outerRect.width) > this.props.delta &&\n      this.steps < this.props.maxSteps\n    ) {\n      if (outerRect.width > innerRect.width) {\n        this.lowerBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      } else if (outerRect.width < innerRect.width) {\n        this.upperBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      }\n    } else {\n      this.steps = 0;\n      this.lowerBound = this.props.min;\n      this.upperBound = this.props.max;\n    }\n  };\n\n  render() {\n    const { children, ...rest } = this.props;\n\n    return (\n      <div ref={this.outer} {...rest}>\n        <div style={{ display: \"inline-block\" }} ref={this.inner}>\n          {this.props.children(this.state.current)}\n        </div>\n      </div>\n    );\n  }\n}\n\nFixedWidth.propTypes = {\n  maxSteps: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  children: PropTypes.element.isRequired\n};\n\nexport default FixedWidth;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass FixedHeight extends React.Component {\n  static defaultProps = {\n    maxSteps: 10,\n    min: 5,\n    max: 100,\n    delta: 5\n  };\n\n  steps = 0;\n  lowerBound = this.props.min;\n  upperBound = this.props.max;\n\n  state = {\n    current: (this.props.max + this.props.min) / 2\n  };\n\n  outer = React.createRef();\n  inner = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.update);\n    this.update();\n  }\n\n  componentDidUpdate() {\n    this.update();\n    // this.steps = 0;\n    // this.lowerBound = this.props.min;\n    // this.upperBound = this.props.max;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.update);\n  }\n\n  update = () => {\n    const outerRect = this.outer.current.getBoundingClientRect();\n    const innerRect = this.inner.current.getBoundingClientRect();\n\n    // console.log(this.steps, Math.abs(innerRect.height - outerRect.height));\n\n    if (\n      Math.abs(innerRect.height - outerRect.height) > this.props.delta &&\n      this.steps < this.props.maxSteps\n    ) {\n      if (outerRect.height > innerRect.height) {\n        this.lowerBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      } else if (outerRect.height < innerRect.height) {\n        this.upperBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      }\n    } else {\n      this.steps = 0;\n      this.lowerBound = this.props.min;\n      this.upperBound = this.props.max;\n    }\n  };\n\n  render() {\n    const { children, ...rest } = this.props;\n\n    return (\n      <div ref={this.outer} {...rest}>\n        <div style={{ display: \"inline-block\" }} ref={this.inner}>\n          {this.props.children(this.state.current)}\n        </div>\n      </div>\n    );\n  }\n}\n\nFixedHeight.propTypes = {\n  maxSteps: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  children: PropTypes.element.isRequired\n};\n\nexport default FixedHeight;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass FixedSize extends React.Component {\n  static defaultProps = {\n    maxSteps: 10,\n    min: 5,\n    max: 100,\n    delta: 5\n  };\n\n  steps = 0;\n  lowerBound = this.props.min;\n  upperBound = this.props.max;\n\n  state = {\n    current: (this.props.max + this.props.min) / 2\n  };\n\n  outer = React.createRef();\n  inner = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.update);\n    this.update();\n  }\n\n  componentDidUpdate() {\n    this.update();\n    // this.steps = 0;\n    // this.lowerBound = this.props.min;\n    // this.upperBound = this.props.max;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.update);\n  }\n\n  update = () => {\n    const outerRect = this.outer.current.getBoundingClientRect();\n    const innerRect = this.inner.current.getBoundingClientRect();\n\n    // console.log(this.steps, Math.abs(innerRect.height - outerRect.height));\n\n    if (\n      Math.abs(innerRect.width - outerRect.width) > this.props.delta &&\n      Math.abs(innerRect.height - outerRect.height) > this.props.delta &&\n      this.steps < this.props.maxSteps\n    ) {\n      if (outerRect.width > innerRect.width && outerRect.height > innerRect.height) {\n        this.lowerBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      } else if (outerRect.width < innerRect.width || outerRect.height < innerRect.height) {\n        this.upperBound = this.state.current;\n        this.steps++;\n        this.setState({\n          current: (this.upperBound + this.lowerBound) / 2\n        });\n      }\n    } else {\n      this.steps = 0;\n      this.lowerBound = this.props.min;\n      this.upperBound = this.props.max;\n    }\n  };\n\n  render() {\n    const { children, ...rest } = this.props;\n\n    return (\n      <div ref={this.outer} {...rest}>\n        <div style={{ display: \"inline-block\" }} ref={this.inner}>\n          {this.props.children(this.state.current)}\n        </div>\n      </div>\n    );\n  }\n}\n\nFixedSize.propTypes = {\n  maxSteps: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  children: PropTypes.element.isRequired\n};\n\nexport default FixedSize;"],"names":["FixedWidth","steps","lowerBound","props","min","upperBound","max","state","outer","React","createRef","inner","update","outerRect","current","getBoundingClientRect","innerRect","Math","abs","width","delta","maxSteps","setState","addEventListener","removeEventListener","children","rest","display","Component","defaultProps","propTypes","PropTypes","number","element","isRequired","FixedHeight","height","FixedSize"],"mappings":"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"}